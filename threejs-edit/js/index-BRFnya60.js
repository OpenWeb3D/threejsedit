var l=(c,t,a)=>new Promise((o,e)=>{var s=n=>{try{i(a.next(n))}catch(d){e(d)}},r=n=>{try{i(a.throw(n))}catch(d){e(d)}},i=n=>n.done?o(n.value):Promise.resolve(n.value).then(s,r);i((a=a.apply(c,t)).next())});import{d as p,m as u,e as g,f,g as m,j as _,i as x,u as b,F as v,o as w,_ as I}from"./main-B1IjVsm6.js";import{u as S,a0 as D,aa as M,a1 as j}from"./renderModel--mNWmmrt.js";const A=p({__name:"index",setup(c){const t=S(),a=D(),o=u({percentage:0,loading:!1});return g(()=>l(null,null,function*(){yield a.initIndexDb();const e=new M("#preview-scene");t.setSceneApi(e),Object.assign(o,{pageLoading:!0,loading:!0}),yield e.init(),Object.assign(o,{pageLoading:!1,loading:!1}),e.onProgress((s,r)=>{o.percentage=Number((s/r*100).toFixed(0))})})),f(()=>{var e;(e=t.scenePreviewApi)==null||e.renderDestroy(),t.setScenePreviewApi(null)}),g(()=>{}),(e,s)=>(w(),m(v,null,[s[0]||(s[0]=_("div",{id:"preview-scene"},null,-1)),x(b(j),{loading:o.loading},null,8,["loading"])],64))}}),N=I(A,[["__scopeId","data-v-bc683dcf"]]);export{N as default};
